/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/
var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });
var __export = (target, all) => {
  __markAsModule(target);
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __reExport = (target, module2, desc) => {
  if (module2 && typeof module2 === "object" || typeof module2 === "function") {
    for (let key of __getOwnPropNames(module2))
      if (!__hasOwnProp.call(target, key) && key !== "default")
        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });
  }
  return target;
};
var __toModule = (module2) => {
  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, "default", module2 && module2.__esModule && "default" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);
};
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

// src/main.ts
__export(exports, {
  default: () => CustomFramesPlugin
});
var import_obsidian4 = __toModule(require("obsidian"));

// src/frame.ts
var import_obsidian = __toModule(require("obsidian"));

// src/settings.ts
var defaultSettings = {
  frames: [],
  padding: 5
};
var presets = {
  "obsidian": {
    url: "https://forum.obsidian.md/",
    displayName: "Obsidian Forum",
    icon: "edit",
    hideOnMobile: true,
    addRibbonIcon: true,
    openInCenter: true,
    zoomLevel: 1,
    forceIframe: false,
    customCss: ""
  },
  "detexify": {
    url: "https://detexify.kirelabs.org/classify.html",
    displayName: "Detexify",
    icon: "type",
    hideOnMobile: true,
    addRibbonIcon: true,
    openInCenter: false,
    zoomLevel: 0.95,
    forceIframe: false,
    customCss: `/* hide info clutter and ad banner */
#classify--info-area,
.adsbygoogle {
	display: none !important
}`
  },
  "calendar": {
    url: "https://calendar.google.com/calendar",
    displayName: "Google Calendar",
    icon: "calendar",
    hideOnMobile: true,
    addRibbonIcon: true,
    openInCenter: true,
    zoomLevel: 1,
    forceIframe: false,
    customCss: `/* hide the menu bar "Calendar" text and remove minimum width */
div[style*="min-width: 238px"] {
    min-width: 0 !important;
    padding-right: 0 !important;
}
div[style*="min-width: 238px"] span[role*="heading"] {
    display: none !important;
}`
  },
  "keep": {
    url: "https://keep.google.com",
    displayName: "Google Keep",
    icon: "files",
    hideOnMobile: true,
    addRibbonIcon: false,
    openInCenter: false,
    zoomLevel: 1,
    forceIframe: false,
    customCss: `/* hide the menu bar and the "Keep" text */
html > body > div:nth-child(2) > div:nth-child(2) > div:first-child,
html > body > div:first-child > header:first-child > div > div:first-child > div > div:first-child > a:first-child > span {
	display: none !important;
}`
  },
  "todoist": {
    url: "https://todoist.com",
    displayName: "Todoist",
    icon: "list-checks",
    hideOnMobile: true,
    addRibbonIcon: false,
    openInCenter: false,
    zoomLevel: 1,
    forceIframe: false,
    customCss: `/* hide the help, home, search, and productivity overview buttons, create extra space, and prevent toast pop-up from acting weird */
[aria-label="Go to Home view"], #quick_find, [aria-label="Productivity"], [aria-label="Help & Feedback"] {
	display: none !important;
}

.view_content {
	padding-left: 15px;
}

.view_header {
	padding-left: 15px;
	padding-top: 10px;
}

.undo_toast {
	width: 95%;
}`
  },
  "notion": {
    url: "https://www.notion.so/",
    displayName: "Notion",
    icon: "box",
    hideOnMobile: true,
    addRibbonIcon: true,
    openInCenter: true,
    zoomLevel: 1,
    forceIframe: false,
    customCss: ""
  },
  "twitter": {
    url: "https://twitter.com",
    displayName: "Twitter",
    icon: "twitter",
    hideOnMobile: true,
    addRibbonIcon: false,
    openInCenter: false,
    zoomLevel: 1,
    forceIframe: false,
    customCss: ""
  },
  "tasks": {
    url: "https://tasks.google.com/embed/?origin=https://calendar.google.com&fullWidth=1",
    displayName: "Google Tasks",
    icon: "list-checks",
    hideOnMobile: true,
    addRibbonIcon: false,
    openInCenter: false,
    zoomLevel: 1,
    forceIframe: false,
    customCss: ""
  }
};
function getIcon(settings) {
  return settings.icon ? `lucide-${settings.icon}` : "documents";
}
function getId(settings) {
  return settings.displayName.toLowerCase().replace(/\s/g, "-");
}

// src/frame.ts
var CustomFrame = class {
  constructor(settings, data) {
    this.settings = settings;
    this.data = data;
  }
  create(parent, url = void 0, additionalStyle = void 0, urlSuffix = void 0) {
    let style = `padding: ${this.settings.padding}px;`;
    if (additionalStyle)
      style += additionalStyle;
    if (import_obsidian.Platform.isDesktopApp && !this.data.forceIframe) {
      let frameDoc = parent.doc;
      this.frame = frameDoc.createElement("webview");
      parent.appendChild(this.frame);
      this.frame.setAttribute("allowpopups", "");
      this.frame.addEventListener("dom-ready", () => {
        this.frame.setZoomFactor(this.data.zoomLevel);
        this.frame.insertCSS(this.data.customCss);
      });
      this.frame.addEventListener("destroyed", () => {
        if (frameDoc != parent.doc) {
          this.frame.detach();
          this.create(parent, additionalStyle, urlSuffix);
        }
      });
    } else {
      this.frame = parent.doc.createElement("iframe");
      parent.appendChild(this.frame);
      this.frame.setAttribute("sandbox", "allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts allow-top-navigation-by-user-activation");
      this.frame.setAttribute("allow", "encrypted-media; fullscreen; oversized-images; picture-in-picture; sync-xhr; geolocation;");
      style += `transform: scale(${this.data.zoomLevel}); transform-origin: 0 0;`;
    }
    this.frame.addClass("custom-frames-frame");
    this.frame.addClass(`custom-frames-${getId(this.data)}`);
    this.frame.setAttribute("style", style);
    let src = this.data.url;
    if (url) {
      src = url;
    }
    if (urlSuffix) {
      if (!urlSuffix.startsWith("/"))
        src += "/";
      src += urlSuffix;
    }
    this.frame.setAttribute("src", src);
  }
  refresh() {
    if (this.frame instanceof HTMLIFrameElement) {
      this.frame.contentWindow.location.reload();
    } else {
      this.frame.reload();
    }
  }
  return() {
    if (this.frame instanceof HTMLIFrameElement) {
      this.frame.contentWindow.open(this.data.url);
    } else {
      this.frame.loadURL(this.data.url);
    }
  }
  goBack() {
    if (this.frame instanceof HTMLIFrameElement) {
      this.frame.contentWindow.history.back();
    } else {
      this.frame.goBack();
    }
  }
  goForward() {
    if (this.frame instanceof HTMLIFrameElement) {
      this.frame.contentWindow.history.forward();
    } else {
      this.frame.goForward();
    }
  }
  toggleDevTools() {
    if (!(this.frame instanceof HTMLIFrameElement)) {
      if (!this.frame.isDevToolsOpened()) {
        this.frame.openDevTools();
      } else {
        this.frame.closeDevTools();
      }
    }
  }
  getCurrentUrl() {
    return this.frame instanceof HTMLIFrameElement ? this.frame.contentWindow.location.href : this.frame.getURL();
  }
  focus() {
    if (this.frame instanceof HTMLIFrameElement) {
      this.frame.contentWindow.focus();
    } else {
      this.frame.focus();
    }
  }
};

// src/settings-tab.ts
var import_obsidian2 = __toModule(require("obsidian"));
var CustomFramesSettingTab = class extends import_obsidian2.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    this.containerEl.empty();
    this.containerEl.createEl("h2", { text: "Custom Frames Settings" });
    this.containerEl.createEl("p", {
      text: "Please note that Obsidian has to be restarted or reloaded for most of these settings to take effect.",
      cls: "mod-warning"
    });
    new import_obsidian2.Setting(this.containerEl).setName("Frame Padding").setDesc("The padding that should be left around the inside of custom frame panes, in pixels.").addText((t) => {
      t.inputEl.type = "number";
      t.setValue(String(this.plugin.settings.padding));
      t.onChange((v) => __async(this, null, function* () {
        this.plugin.settings.padding = v.length ? Number(v) : defaultSettings.padding;
        yield this.plugin.saveSettings();
      }));
    });
    for (let frame of this.plugin.settings.frames) {
      let heading = this.containerEl.createEl("h3", { text: frame.displayName || "Unnamed Frame" });
      let toggle = new import_obsidian2.ButtonComponent(this.containerEl).setButtonText("Show Settings").setClass("custom-frames-show").onClick(() => __async(this, null, function* () {
        content.hidden = !content.hidden;
        toggle.setButtonText(content.hidden ? "Show Settings" : "Hide Settings");
      }));
      let content = this.containerEl.createDiv();
      content.hidden = true;
      new import_obsidian2.Setting(content).setName("Display Name").setDesc("The display name that this frame should have.").addText((t) => {
        t.setValue(frame.displayName);
        t.onChange((v) => __async(this, null, function* () {
          frame.displayName = v;
          heading.setText(frame.displayName || "Unnamed Frame");
          yield this.plugin.saveSettings();
        }));
      });
      new import_obsidian2.Setting(content).setName("Icon").setDesc(createFragment((f) => {
        f.createSpan({ text: "The icon that this frame's pane should have. The names of any " });
        f.createEl("a", { text: "Lucide icons", href: "https://lucide.dev/" });
        f.createSpan({ text: " can be used." });
      })).addText((t) => {
        t.setValue(frame.icon);
        t.onChange((v) => __async(this, null, function* () {
          frame.icon = v;
          yield this.plugin.saveSettings();
        }));
      });
      new import_obsidian2.Setting(content).setName("URL").setDesc("The URL that should be opened in this frame.").addText((t) => {
        t.setValue(frame.url);
        t.onChange((v) => __async(this, null, function* () {
          frame.url = v;
          yield this.plugin.saveSettings();
        }));
      });
      new import_obsidian2.Setting(content).setName("Disable on Mobile").setDesc("Custom Frames is a lot more restricted on mobile devices and doesn't allow for the same types of content to be displayed. If a frame doesn't work as expected on mobile, it can be disabled.").addToggle((t) => {
        t.setValue(frame.hideOnMobile);
        t.onChange((v) => __async(this, null, function* () {
          frame.hideOnMobile = v;
          yield this.plugin.saveSettings();
        }));
      });
      new import_obsidian2.Setting(content).setName("Add Ribbon Icon").setDesc("Whether a button to open this frame should be added to the ribbon.").addToggle((t) => {
        t.setValue(frame.addRibbonIcon);
        t.onChange((v) => __async(this, null, function* () {
          frame.addRibbonIcon = v;
          yield this.plugin.saveSettings();
        }));
      });
      new import_obsidian2.Setting(content).setName("Open in Center").setDesc("Whether this frame should be opened in the unpinned center editor rather than one of the panes on the side. This is useful for sites that don't work well in a narrow view, or sites that don't require a note to be open when viewed.").addToggle((t) => {
        t.setValue(frame.openInCenter);
        t.onChange((v) => __async(this, null, function* () {
          frame.openInCenter = v;
          yield this.plugin.saveSettings();
        }));
      });
      new import_obsidian2.Setting(content).setName("Force iframe").setDesc(createFragment((f) => {
        f.createSpan({ text: "Whether this frame should use iframes on desktop as opposed to Electron webviews." });
        f.createEl("br");
        f.createEl("em", { text: "Only enable this setting if the frame is causing issues or frequent crashes. This setting causes all Desktop-only settings to be ignored." });
      })).addToggle((t) => {
        t.setValue(frame.forceIframe);
        t.onChange((v) => __async(this, null, function* () {
          frame.forceIframe = v;
          yield this.plugin.saveSettings();
        }));
      });
      new import_obsidian2.Setting(content).setName("Page Zoom").setDesc("The zoom that this frame's page should be displayed with, as a percentage.").addText((t) => {
        t.inputEl.type = "number";
        t.setValue(String(frame.zoomLevel * 100));
        t.onChange((v) => __async(this, null, function* () {
          frame.zoomLevel = v.length ? Number(v) / 100 : 1;
          yield this.plugin.saveSettings();
        }));
      });
      new import_obsidian2.Setting(content).setName("Additional CSS").setDesc(createFragment((f) => {
        f.createSpan({ text: "A snippet of additional CSS that should be applied to this frame." });
        f.createEl("br");
        f.createEl("em", { text: "Note that this is only applied on Desktop." });
      })).addTextArea((t) => {
        t.inputEl.rows = 5;
        t.inputEl.cols = 50;
        t.setValue(frame.customCss);
        t.onChange((v) => __async(this, null, function* () {
          frame.customCss = v;
          yield this.plugin.saveSettings();
        }));
      });
      new import_obsidian2.ButtonComponent(content).setButtonText("Remove Frame").onClick(() => __async(this, null, function* () {
        this.plugin.settings.frames.remove(frame);
        yield this.plugin.saveSettings();
        this.display();
      }));
    }
    this.containerEl.createEl("hr");
    this.containerEl.createEl("p", { text: `Create a new frame, either from a preset shipped with the plugin, or a custom one that you can edit yourself. Each frame's pane can be opened using the "Custom Frames: Open" command.` });
    let addDiv = this.containerEl.createDiv();
    let dropdown = new import_obsidian2.DropdownComponent(addDiv);
    dropdown.addOption("new", "Custom");
    for (let key of Object.keys(presets))
      dropdown.addOption(key, presets[key].displayName);
    new import_obsidian2.ButtonComponent(addDiv).setButtonText("Add Frame").setClass("custom-frames-add").onClick(() => __async(this, null, function* () {
      let option = dropdown.getValue();
      if (option == "new") {
        this.plugin.settings.frames.push({
          url: "",
          displayName: "New Frame",
          icon: "",
          hideOnMobile: true,
          addRibbonIcon: false,
          openInCenter: false,
          zoomLevel: 1,
          forceIframe: false,
          customCss: ""
        });
      } else {
        this.plugin.settings.frames.push(presets[option]);
      }
      yield this.plugin.saveSettings();
      this.display();
    }));
    let disclaimer = this.containerEl.createEl("p", { cls: "mod-warning" });
    disclaimer.createSpan({ text: "Please be advised that, when adding a site as a custom frame, you potentially expose personal information you enter to other plugins you have installed. For more information, see " });
    disclaimer.createEl("a", {
      text: "this discussion",
      href: "https://github.com/Ellpeck/ObsidianCustomFrames/issues/54#issuecomment-1210879685",
      cls: "mod-warning"
    });
    disclaimer.createSpan({ text: "." });
    this.containerEl.createEl("hr");
    this.containerEl.createEl("p", { text: "If you like this plugin and want to support its development, you can do so through my website by clicking this fancy image!" });
    this.containerEl.createEl("a", { href: "https://ellpeck.de/support" }).createEl("img", {
      attr: { src: "https://ellpeck.de/res/generalsupport.png" },
      cls: "custom-frames-support"
    });
  }
};

// src/view.ts
var import_obsidian3 = __toModule(require("obsidian"));
var _CustomFrameView = class extends import_obsidian3.ItemView {
  constructor(leaf, settings, data, name) {
    super(leaf);
    this.data = data;
    this.name = name;
    this.frame = new CustomFrame(settings, data);
    this.navigation = data.openInCenter;
    for (let action of _CustomFrameView.actions)
      this.addAction(action.icon, action.name, () => action.action(this));
  }
  onload() {
    this.contentEl.empty();
    this.contentEl.addClass("custom-frames-view");
    this.frame.create(this.contentEl);
  }
  onPaneMenu(menu, source) {
    super.onPaneMenu(menu, source);
    for (let action of _CustomFrameView.actions) {
      menu.addItem((i) => {
        i.setTitle(action.name);
        i.setIcon(action.icon);
        i.onClick(() => action.action(this));
      });
    }
  }
  getViewType() {
    return this.name;
  }
  getDisplayText() {
    return this.data.displayName;
  }
  getIcon() {
    return getIcon(this.data);
  }
  focus() {
    this.frame.focus();
  }
};
var CustomFrameView = _CustomFrameView;
CustomFrameView.actions = [
  {
    name: "Return to original page",
    icon: "home",
    action: (v) => v.frame.return()
  },
  {
    name: "Open dev tools",
    icon: "binary",
    action: (v) => v.frame.toggleDevTools()
  },
  {
    name: "Copy link",
    icon: "link",
    action: (v) => navigator.clipboard.writeText(v.frame.getCurrentUrl())
  },
  {
    name: "Open in browser",
    icon: "globe",
    action: (v) => open(v.frame.getCurrentUrl())
  },
  {
    name: "Refresh",
    icon: "refresh-cw",
    action: (v) => v.frame.refresh()
  },
  {
    name: "Go back",
    icon: "arrow-left",
    action: (v) => v.frame.goBack()
  },
  {
    name: "Go forward",
    icon: "arrow-right",
    action: (v) => v.frame.goForward()
  }
];

// src/main.ts
var CustomFramesPlugin = class extends import_obsidian4.Plugin {
  onload() {
    return __async(this, null, function* () {
      yield this.loadSettings();
      for (let frame of this.settings.frames) {
        if (!frame.url || !frame.displayName)
          continue;
        let name = `custom-frames-${getId(frame)}`;
        if (import_obsidian4.Platform.isMobileApp && frame.hideOnMobile) {
          console.log(`Skipping frame ${name} which is hidden on mobile`);
          continue;
        }
        try {
          console.log(`Registering frame ${name} for URL ${frame.url}`);
          this.registerView(name, (l) => new CustomFrameView(l, this.settings, frame, name));
          this.addCommand({
            id: `open-${name}`,
            name: `Open ${frame.displayName}`,
            callback: () => this.openLeaf(name, frame.openInCenter, false)
          });
          if (frame.addRibbonIcon)
            this.addRibbonIcon(getIcon(frame), `Open ${frame.displayName}`, (e) => this.openLeaf(name, frame.openInCenter, import_obsidian4.Platform.isMacOS ? e.metaKey : e.ctrlKey));
        } catch (e) {
          console.error(`Couldn't register frame ${name}, is there already one with the same name?`);
        }
      }
      this.addSettingTab(new CustomFramesSettingTab(this.app, this));
      this.registerMarkdownCodeBlockProcessor("custom-frames", (s, e) => {
        e.empty();
        e.addClass("custom-frames-view-file");
        let frameMatch = /frame:([^\n]+)/gi.exec(s);
        let frameName = frameMatch && frameMatch[1].trim();
        if (!frameName) {
          e.createSpan({ text: "Couldn't parse frame name" });
          return;
        }
        let data = this.settings.frames.find((f) => f.displayName == frameName);
        if (!data) {
          e.createSpan({ text: `Couldn't find a frame with name ${frameName}` });
          return;
        }
        if (import_obsidian4.Platform.isMobileApp && data.hideOnMobile) {
          e.createSpan({ text: `${frameName} is hidden on mobile` });
          return;
        }
        let styleMatch = /style:([^\n]+)/gi.exec(s);
        let style = styleMatch && styleMatch[1].trim();
        style || (style = "height: 600px;");
        let urlSuffixMatch = /urlsuffix:([^\n]+)/gi.exec(s);
        let urlSuffix = urlSuffixMatch && urlSuffixMatch[1].trim();
        urlSuffix || (urlSuffix = "");
        let frame = new CustomFrame(this.settings, data);
        frame.create(e, style, urlSuffix);
      });
    });
  }
  loadSettings() {
    return __async(this, null, function* () {
      this.settings = Object.assign({}, defaultSettings, yield this.loadData());
    });
  }
  saveSettings() {
    return __async(this, null, function* () {
      yield this.saveData(this.settings);
    });
  }
  openLeaf(name, center, split) {
    return __async(this, null, function* () {
      let leaf;
      if (center) {
        leaf = this.app.workspace.getLeaf(split);
        yield leaf.setViewState({ type: name, active: true });
      } else {
        if (!this.app.workspace.getLeavesOfType(name).length)
          yield this.app.workspace.getRightLeaf(false).setViewState({ type: name, active: true });
        leaf = this.app.workspace.getLeavesOfType(name)[0];
        this.app.workspace.revealLeaf(leaf);
      }
      if (leaf.view instanceof CustomFrameView)
        leaf.view.focus();
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL2ZyYW1lLnRzIiwgInNyYy9zZXR0aW5ncy50cyIsICJzcmMvc2V0dGluZ3MtdGFiLnRzIiwgInNyYy92aWV3LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBQbHVnaW4sIFBsYXRmb3JtLCBXb3Jrc3BhY2VMZWFmIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBDdXN0b21GcmFtZSB9IGZyb20gXCIuL2ZyYW1lXCI7XG5pbXBvcnQgeyBDdXN0b21GcmFtZXNTZXR0aW5ncywgZGVmYXVsdFNldHRpbmdzLCBnZXRJY29uLCBnZXRJZCB9IGZyb20gXCIuL3NldHRpbmdzXCI7XG5pbXBvcnQgeyBDdXN0b21GcmFtZXNTZXR0aW5nVGFiIH0gZnJvbSBcIi4vc2V0dGluZ3MtdGFiXCI7XG5pbXBvcnQgeyBDdXN0b21GcmFtZVZpZXcgfSBmcm9tIFwiLi92aWV3XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1c3RvbUZyYW1lc1BsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG5cbiAgICBzZXR0aW5nczogQ3VzdG9tRnJhbWVzU2V0dGluZ3M7XG5cbiAgICBhc3luYyBvbmxvYWQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cbiAgICAgICAgZm9yIChsZXQgZnJhbWUgb2YgdGhpcy5zZXR0aW5ncy5mcmFtZXMpIHtcbiAgICAgICAgICAgIGlmICghZnJhbWUudXJsIHx8ICFmcmFtZS5kaXNwbGF5TmFtZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGxldCBuYW1lID0gYGN1c3RvbS1mcmFtZXMtJHtnZXRJZChmcmFtZSl9YDtcbiAgICAgICAgICAgIGlmIChQbGF0Zm9ybS5pc01vYmlsZUFwcCAmJiBmcmFtZS5oaWRlT25Nb2JpbGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgU2tpcHBpbmcgZnJhbWUgJHtuYW1lfSB3aGljaCBpcyBoaWRkZW4gb24gbW9iaWxlYCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBSZWdpc3RlcmluZyBmcmFtZSAke25hbWV9IGZvciBVUkwgJHtmcmFtZS51cmx9YCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyVmlldyhuYW1lLCBsID0+IG5ldyBDdXN0b21GcmFtZVZpZXcobCwgdGhpcy5zZXR0aW5ncywgZnJhbWUsIG5hbWUpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgICAgICAgICAgICAgICBpZDogYG9wZW4tJHtuYW1lfWAsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGBPcGVuICR7ZnJhbWUuZGlzcGxheU5hbWV9YCxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHRoaXMub3BlbkxlYWYobmFtZSwgZnJhbWUub3BlbkluQ2VudGVyLCBmYWxzZSksXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZnJhbWUuYWRkUmliYm9uSWNvbilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRSaWJib25JY29uKGdldEljb24oZnJhbWUpLCBgT3BlbiAke2ZyYW1lLmRpc3BsYXlOYW1lfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBlID0+IHRoaXMub3BlbkxlYWYobmFtZSwgZnJhbWUub3BlbkluQ2VudGVyLCBQbGF0Zm9ybS5pc01hY09TID8gZS5tZXRhS2V5IDogZS5jdHJsS2V5KSk7XG4gICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBDb3VsZG4ndCByZWdpc3RlciBmcmFtZSAke25hbWV9LCBpcyB0aGVyZSBhbHJlYWR5IG9uZSB3aXRoIHRoZSBzYW1lIG5hbWU/YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFkZFNldHRpbmdUYWIobmV3IEN1c3RvbUZyYW1lc1NldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyTWFya2Rvd25Db2RlQmxvY2tQcm9jZXNzb3IoXCJjdXN0b20tZnJhbWVzXCIsIChzLCBlKSA9PiB7XG4gICAgICAgICAgICBlLmVtcHR5KCk7XG4gICAgICAgICAgICBlLmFkZENsYXNzKFwiY3VzdG9tLWZyYW1lcy12aWV3LWZpbGVcIik7XG5cbiAgICAgICAgICAgIGxldCBmcmFtZU1hdGNoID0gL2ZyYW1lOihbXlxcbl0rKS9naS5leGVjKHMpO1xuICAgICAgICAgICAgbGV0IGZyYW1lTmFtZSA9IGZyYW1lTWF0Y2ggJiYgZnJhbWVNYXRjaFsxXS50cmltKCk7XG4gICAgICAgICAgICBpZiAoIWZyYW1lTmFtZSkge1xuICAgICAgICAgICAgICAgIGUuY3JlYXRlU3Bhbih7IHRleHQ6IFwiQ291bGRuJ3QgcGFyc2UgZnJhbWUgbmFtZVwiIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBkYXRhID0gdGhpcy5zZXR0aW5ncy5mcmFtZXMuZmluZChmID0+IGYuZGlzcGxheU5hbWUgPT0gZnJhbWVOYW1lKTtcbiAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgIGUuY3JlYXRlU3Bhbih7IHRleHQ6IGBDb3VsZG4ndCBmaW5kIGEgZnJhbWUgd2l0aCBuYW1lICR7ZnJhbWVOYW1lfWAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFBsYXRmb3JtLmlzTW9iaWxlQXBwICYmIGRhdGEuaGlkZU9uTW9iaWxlKSB7XG4gICAgICAgICAgICAgICAgZS5jcmVhdGVTcGFuKHsgdGV4dDogYCR7ZnJhbWVOYW1lfSBpcyBoaWRkZW4gb24gbW9iaWxlYCB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBzdHlsZU1hdGNoID0gL3N0eWxlOihbXlxcbl0rKS9naS5leGVjKHMpO1xuICAgICAgICAgICAgbGV0IHN0eWxlID0gc3R5bGVNYXRjaCAmJiBzdHlsZU1hdGNoWzFdLnRyaW0oKTtcbiAgICAgICAgICAgIHN0eWxlIHx8PSBcImhlaWdodDogNjAwcHg7XCI7XG5cbiAgICAgICAgICAgIGxldCB1cmxTdWZmaXhNYXRjaCA9IC91cmxzdWZmaXg6KFteXFxuXSspL2dpLmV4ZWMocyk7XG4gICAgICAgICAgICBsZXQgdXJsU3VmZml4ID0gdXJsU3VmZml4TWF0Y2ggJiYgdXJsU3VmZml4TWF0Y2hbMV0udHJpbSgpO1xuICAgICAgICAgICAgdXJsU3VmZml4IHx8PSBcIlwiO1xuXG4gICAgICAgICAgICBsZXQgZnJhbWUgPSBuZXcgQ3VzdG9tRnJhbWUodGhpcy5zZXR0aW5ncywgZGF0YSk7XG4gICAgICAgICAgICBmcmFtZS5jcmVhdGUoZSwgc3R5bGUsIHVybFN1ZmZpeCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRTZXR0aW5ncywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcbiAgICB9XG5cbiAgICBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBvcGVuTGVhZihuYW1lOiBzdHJpbmcsIGNlbnRlcjogYm9vbGVhbiwgc3BsaXQ6IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgbGV0IGxlYWY6IFdvcmtzcGFjZUxlYWY7XG4gICAgICAgIGlmIChjZW50ZXIpIHtcbiAgICAgICAgICAgIGxlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZihzcGxpdCk7XG4gICAgICAgICAgICBhd2FpdCBsZWFmLnNldFZpZXdTdGF0ZSh7IHR5cGU6IG5hbWUsIGFjdGl2ZTogdHJ1ZSB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShuYW1lKS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hcHAud29ya3NwYWNlLmdldFJpZ2h0TGVhZihmYWxzZSkuc2V0Vmlld1N0YXRlKHsgdHlwZTogbmFtZSwgYWN0aXZlOiB0cnVlIH0pO1xuICAgICAgICAgICAgbGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUobmFtZSlbMF07XG4gICAgICAgICAgICB0aGlzLmFwcC53b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGVhZi52aWV3IGluc3RhbmNlb2YgQ3VzdG9tRnJhbWVWaWV3KVxuICAgICAgICAgICAgbGVhZi52aWV3LmZvY3VzKCk7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IFBsYXRmb3JtIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBDdXN0b21GcmFtZVNldHRpbmdzLCBDdXN0b21GcmFtZXNTZXR0aW5ncywgZ2V0SWQgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuXG5leHBvcnQgY2xhc3MgQ3VzdG9tRnJhbWUge1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBzZXR0aW5nczogQ3VzdG9tRnJhbWVzU2V0dGluZ3M7XG4gICAgcHJpdmF0ZSByZWFkb25seSBkYXRhOiBDdXN0b21GcmFtZVNldHRpbmdzO1xuICAgIHByaXZhdGUgZnJhbWU6IEhUTUxJRnJhbWVFbGVtZW50IHwgYW55O1xuXG4gICAgY29uc3RydWN0b3Ioc2V0dGluZ3M6IEN1c3RvbUZyYW1lc1NldHRpbmdzLCBkYXRhOiBDdXN0b21GcmFtZVNldHRpbmdzKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB9XG5cbiAgICBjcmVhdGUocGFyZW50OiBIVE1MRWxlbWVudCwgdXJsOiBzdHJpbmcgPSB1bmRlZmluZWQsIGFkZGl0aW9uYWxTdHlsZTogc3RyaW5nID0gdW5kZWZpbmVkLCB1cmxTdWZmaXg6IHN0cmluZyA9IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgICAgICBsZXQgc3R5bGUgPSBgcGFkZGluZzogJHt0aGlzLnNldHRpbmdzLnBhZGRpbmd9cHg7YDtcbiAgICAgICAgaWYgKGFkZGl0aW9uYWxTdHlsZSlcbiAgICAgICAgICAgIHN0eWxlICs9IGFkZGl0aW9uYWxTdHlsZTtcbiAgICAgICAgaWYgKFBsYXRmb3JtLmlzRGVza3RvcEFwcCAmJiAhdGhpcy5kYXRhLmZvcmNlSWZyYW1lKSB7XG4gICAgICAgICAgICBsZXQgZnJhbWVEb2MgPSBwYXJlbnQuZG9jO1xuICAgICAgICAgICAgdGhpcy5mcmFtZSA9IGZyYW1lRG9jLmNyZWF0ZUVsZW1lbnQoXCJ3ZWJ2aWV3XCIpO1xuICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKHRoaXMuZnJhbWUpO1xuICAgICAgICAgICAgdGhpcy5mcmFtZS5zZXRBdHRyaWJ1dGUoXCJhbGxvd3BvcHVwc1wiLCBcIlwiKTtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcihcImRvbS1yZWFkeVwiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcmFtZS5zZXRab29tRmFjdG9yKHRoaXMuZGF0YS56b29tTGV2ZWwpO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWUuaW5zZXJ0Q1NTKHRoaXMuZGF0YS5jdXN0b21Dc3MpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoXCJkZXN0cm95ZWRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIHJlY3JlYXRlIHRoZSB3ZWJ2aWV3IGlmIGl0IHdhcyBtb3ZlZCB0byBhIG5ldyB3aW5kb3dcbiAgICAgICAgICAgICAgICBpZiAoZnJhbWVEb2MgIT0gcGFyZW50LmRvYykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYW1lLmRldGFjaCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZShwYXJlbnQsIGFkZGl0aW9uYWxTdHlsZSwgdXJsU3VmZml4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSBwYXJlbnQuZG9jLmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7XG4gICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5mcmFtZSk7XG4gICAgICAgICAgICB0aGlzLmZyYW1lLnNldEF0dHJpYnV0ZShcInNhbmRib3hcIiwgXCJhbGxvdy1mb3JtcyBhbGxvdy1tb2RhbHMgYWxsb3ctcG9wdXBzIGFsbG93LXByZXNlbnRhdGlvbiBhbGxvdy1zYW1lLW9yaWdpbiBhbGxvdy1zY3JpcHRzIGFsbG93LXRvcC1uYXZpZ2F0aW9uLWJ5LXVzZXItYWN0aXZhdGlvblwiKTtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUuc2V0QXR0cmlidXRlKFwiYWxsb3dcIiwgXCJlbmNyeXB0ZWQtbWVkaWE7IGZ1bGxzY3JlZW47IG92ZXJzaXplZC1pbWFnZXM7IHBpY3R1cmUtaW4tcGljdHVyZTsgc3luYy14aHI7IGdlb2xvY2F0aW9uO1wiKTtcbiAgICAgICAgICAgIHN0eWxlICs9IGB0cmFuc2Zvcm06IHNjYWxlKCR7dGhpcy5kYXRhLnpvb21MZXZlbH0pOyB0cmFuc2Zvcm0tb3JpZ2luOiAwIDA7YDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZyYW1lLmFkZENsYXNzKFwiY3VzdG9tLWZyYW1lcy1mcmFtZVwiKTtcbiAgICAgICAgdGhpcy5mcmFtZS5hZGRDbGFzcyhgY3VzdG9tLWZyYW1lcy0ke2dldElkKHRoaXMuZGF0YSl9YCk7XG4gICAgICAgIHRoaXMuZnJhbWUuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgc3R5bGUpO1xuXG4gICAgICAgIGxldCBzcmMgPSB0aGlzLmRhdGEudXJsO1xuICAgICAgICBpZiAodXJsKXtcbiAgICAgICAgICAgIHNyYyA9IHVybDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJsU3VmZml4KSB7XG4gICAgICAgICAgICBpZiAoIXVybFN1ZmZpeC5zdGFydHNXaXRoKFwiL1wiKSlcbiAgICAgICAgICAgICAgICBzcmMgKz0gXCIvXCI7XG4gICAgICAgICAgICBzcmMgKz0gdXJsU3VmZml4O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZnJhbWUuc2V0QXR0cmlidXRlKFwic3JjXCIsIHNyYyk7XG4gICAgfVxuXG4gICAgcmVmcmVzaCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZnJhbWUgaW5zdGFuY2VvZiBIVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5mcmFtZS5jb250ZW50V2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mcmFtZS5yZWxvYWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybigpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuZnJhbWUgaW5zdGFuY2VvZiBIVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5mcmFtZS5jb250ZW50V2luZG93Lm9wZW4odGhpcy5kYXRhLnVybCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZyYW1lLmxvYWRVUkwodGhpcy5kYXRhLnVybCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnb0JhY2soKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmZyYW1lIGluc3RhbmNlb2YgSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUuY29udGVudFdpbmRvdy5oaXN0b3J5LmJhY2soKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUuZ29CYWNrKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnb0ZvcndhcmQoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmZyYW1lIGluc3RhbmNlb2YgSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUuY29udGVudFdpbmRvdy5oaXN0b3J5LmZvcndhcmQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUuZ29Gb3J3YXJkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b2dnbGVEZXZUb29scygpOiB2b2lkIHtcbiAgICAgICAgaWYgKCEodGhpcy5mcmFtZSBpbnN0YW5jZW9mIEhUTUxJRnJhbWVFbGVtZW50KSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmZyYW1lLmlzRGV2VG9vbHNPcGVuZWQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWUub3BlbkRldlRvb2xzKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhbWUuY2xvc2VEZXZUb29scygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Q3VycmVudFVybCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5mcmFtZSBpbnN0YW5jZW9mIEhUTUxJRnJhbWVFbGVtZW50ID8gdGhpcy5mcmFtZS5jb250ZW50V2luZG93LmxvY2F0aW9uLmhyZWYgOiB0aGlzLmZyYW1lLmdldFVSTCgpO1xuICAgIH1cblxuICAgIGZvY3VzKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5mcmFtZSBpbnN0YW5jZW9mIEhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmZyYW1lLmNvbnRlbnRXaW5kb3cuZm9jdXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsICJleHBvcnQgY29uc3QgZGVmYXVsdFNldHRpbmdzOiBDdXN0b21GcmFtZXNTZXR0aW5ncyA9IHtcbiAgICBmcmFtZXM6IFtdLFxuICAgIHBhZGRpbmc6IDVcbn07XG5leHBvcnQgY29uc3QgcHJlc2V0czogUmVjb3JkPHN0cmluZywgQ3VzdG9tRnJhbWVTZXR0aW5ncz4gPSB7XG4gICAgXCJvYnNpZGlhblwiOiB7XG4gICAgICAgIHVybDogXCJodHRwczovL2ZvcnVtLm9ic2lkaWFuLm1kL1wiLFxuICAgICAgICBkaXNwbGF5TmFtZTogXCJPYnNpZGlhbiBGb3J1bVwiLFxuICAgICAgICBpY29uOiBcImVkaXRcIixcbiAgICAgICAgaGlkZU9uTW9iaWxlOiB0cnVlLFxuICAgICAgICBhZGRSaWJib25JY29uOiB0cnVlLFxuICAgICAgICBvcGVuSW5DZW50ZXI6IHRydWUsXG4gICAgICAgIHpvb21MZXZlbDogMSxcbiAgICAgICAgZm9yY2VJZnJhbWU6IGZhbHNlLFxuICAgICAgICBjdXN0b21Dc3M6IFwiXCJcbiAgICB9LFxuICAgIFwiZGV0ZXhpZnlcIjoge1xuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9kZXRleGlmeS5raXJlbGFicy5vcmcvY2xhc3NpZnkuaHRtbFwiLFxuICAgICAgICBkaXNwbGF5TmFtZTogXCJEZXRleGlmeVwiLFxuICAgICAgICBpY29uOiBcInR5cGVcIixcbiAgICAgICAgaGlkZU9uTW9iaWxlOiB0cnVlLFxuICAgICAgICBhZGRSaWJib25JY29uOiB0cnVlLFxuICAgICAgICBvcGVuSW5DZW50ZXI6IGZhbHNlLFxuICAgICAgICB6b29tTGV2ZWw6IC45NSxcbiAgICAgICAgZm9yY2VJZnJhbWU6IGZhbHNlLFxuICAgICAgICBjdXN0b21Dc3M6IGAvKiBoaWRlIGluZm8gY2x1dHRlciBhbmQgYWQgYmFubmVyICovXG4jY2xhc3NpZnktLWluZm8tYXJlYSxcbi5hZHNieWdvb2dsZSB7XG5cdGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudFxufWBcbiAgICB9LFxuICAgIFwiY2FsZW5kYXJcIjoge1xuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9jYWxlbmRhci5nb29nbGUuY29tL2NhbGVuZGFyXCIsXG4gICAgICAgIGRpc3BsYXlOYW1lOiBcIkdvb2dsZSBDYWxlbmRhclwiLFxuICAgICAgICBpY29uOiBcImNhbGVuZGFyXCIsXG4gICAgICAgIGhpZGVPbk1vYmlsZTogdHJ1ZSxcbiAgICAgICAgYWRkUmliYm9uSWNvbjogdHJ1ZSxcbiAgICAgICAgb3BlbkluQ2VudGVyOiB0cnVlLFxuICAgICAgICB6b29tTGV2ZWw6IDEsXG4gICAgICAgIGZvcmNlSWZyYW1lOiBmYWxzZSxcbiAgICAgICAgY3VzdG9tQ3NzOiBgLyogaGlkZSB0aGUgbWVudSBiYXIgXCJDYWxlbmRhclwiIHRleHQgYW5kIHJlbW92ZSBtaW5pbXVtIHdpZHRoICovXG5kaXZbc3R5bGUqPVwibWluLXdpZHRoOiAyMzhweFwiXSB7XG4gICAgbWluLXdpZHRoOiAwICFpbXBvcnRhbnQ7XG4gICAgcGFkZGluZy1yaWdodDogMCAhaW1wb3J0YW50O1xufVxuZGl2W3N0eWxlKj1cIm1pbi13aWR0aDogMjM4cHhcIl0gc3Bhbltyb2xlKj1cImhlYWRpbmdcIl0ge1xuICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbn1gXG4gICAgfSxcbiAgICBcImtlZXBcIjoge1xuICAgICAgICB1cmw6IFwiaHR0cHM6Ly9rZWVwLmdvb2dsZS5jb21cIixcbiAgICAgICAgZGlzcGxheU5hbWU6IFwiR29vZ2xlIEtlZXBcIixcbiAgICAgICAgaWNvbjogXCJmaWxlc1wiLFxuICAgICAgICBoaWRlT25Nb2JpbGU6IHRydWUsXG4gICAgICAgIGFkZFJpYmJvbkljb246IGZhbHNlLFxuICAgICAgICBvcGVuSW5DZW50ZXI6IGZhbHNlLFxuICAgICAgICB6b29tTGV2ZWw6IDEsXG4gICAgICAgIGZvcmNlSWZyYW1lOiBmYWxzZSxcbiAgICAgICAgY3VzdG9tQ3NzOiBgLyogaGlkZSB0aGUgbWVudSBiYXIgYW5kIHRoZSBcIktlZXBcIiB0ZXh0ICovXG5odG1sID4gYm9keSA+IGRpdjpudGgtY2hpbGQoMikgPiBkaXY6bnRoLWNoaWxkKDIpID4gZGl2OmZpcnN0LWNoaWxkLFxuaHRtbCA+IGJvZHkgPiBkaXY6Zmlyc3QtY2hpbGQgPiBoZWFkZXI6Zmlyc3QtY2hpbGQgPiBkaXYgPiBkaXY6Zmlyc3QtY2hpbGQgPiBkaXYgPiBkaXY6Zmlyc3QtY2hpbGQgPiBhOmZpcnN0LWNoaWxkID4gc3BhbiB7XG5cdGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbn1gXG4gICAgfSxcbiAgICBcInRvZG9pc3RcIjoge1xuICAgICAgICB1cmw6IFwiaHR0cHM6Ly90b2RvaXN0LmNvbVwiLFxuICAgICAgICBkaXNwbGF5TmFtZTogXCJUb2RvaXN0XCIsXG4gICAgICAgIGljb246IFwibGlzdC1jaGVja3NcIixcbiAgICAgICAgaGlkZU9uTW9iaWxlOiB0cnVlLFxuICAgICAgICBhZGRSaWJib25JY29uOiBmYWxzZSxcbiAgICAgICAgb3BlbkluQ2VudGVyOiBmYWxzZSxcbiAgICAgICAgem9vbUxldmVsOiAxLFxuICAgICAgICBmb3JjZUlmcmFtZTogZmFsc2UsXG4gICAgICAgIGN1c3RvbUNzczogYC8qIGhpZGUgdGhlIGhlbHAsIGhvbWUsIHNlYXJjaCwgYW5kIHByb2R1Y3Rpdml0eSBvdmVydmlldyBidXR0b25zLCBjcmVhdGUgZXh0cmEgc3BhY2UsIGFuZCBwcmV2ZW50IHRvYXN0IHBvcC11cCBmcm9tIGFjdGluZyB3ZWlyZCAqL1xuW2FyaWEtbGFiZWw9XCJHbyB0byBIb21lIHZpZXdcIl0sICNxdWlja19maW5kLCBbYXJpYS1sYWJlbD1cIlByb2R1Y3Rpdml0eVwiXSwgW2FyaWEtbGFiZWw9XCJIZWxwICYgRmVlZGJhY2tcIl0ge1xuXHRkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XG59XG5cbi52aWV3X2NvbnRlbnQge1xuXHRwYWRkaW5nLWxlZnQ6IDE1cHg7XG59XG5cbi52aWV3X2hlYWRlciB7XG5cdHBhZGRpbmctbGVmdDogMTVweDtcblx0cGFkZGluZy10b3A6IDEwcHg7XG59XG5cbi51bmRvX3RvYXN0IHtcblx0d2lkdGg6IDk1JTtcbn1gXG4gICAgfSxcbiAgICBcIm5vdGlvblwiOiB7XG4gICAgICAgIHVybDogXCJodHRwczovL3d3dy5ub3Rpb24uc28vXCIsXG4gICAgICAgIGRpc3BsYXlOYW1lOiBcIk5vdGlvblwiLFxuICAgICAgICBpY29uOiBcImJveFwiLFxuICAgICAgICBoaWRlT25Nb2JpbGU6IHRydWUsXG4gICAgICAgIGFkZFJpYmJvbkljb246IHRydWUsXG4gICAgICAgIG9wZW5JbkNlbnRlcjogdHJ1ZSxcbiAgICAgICAgem9vbUxldmVsOiAxLFxuICAgICAgICBmb3JjZUlmcmFtZTogZmFsc2UsXG4gICAgICAgIGN1c3RvbUNzczogXCJcIlxuICAgIH0sXG4gICAgXCJ0d2l0dGVyXCI6IHtcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vdHdpdHRlci5jb21cIixcbiAgICAgICAgZGlzcGxheU5hbWU6IFwiVHdpdHRlclwiLFxuICAgICAgICBpY29uOiBcInR3aXR0ZXJcIixcbiAgICAgICAgaGlkZU9uTW9iaWxlOiB0cnVlLFxuICAgICAgICBhZGRSaWJib25JY29uOiBmYWxzZSxcbiAgICAgICAgb3BlbkluQ2VudGVyOiBmYWxzZSxcbiAgICAgICAgem9vbUxldmVsOiAxLFxuICAgICAgICBmb3JjZUlmcmFtZTogZmFsc2UsXG4gICAgICAgIGN1c3RvbUNzczogXCJcIlxuICAgIH0sXG4gICAgXCJ0YXNrc1wiOiB7XG4gICAgICAgIHVybDogXCJodHRwczovL3Rhc2tzLmdvb2dsZS5jb20vZW1iZWQvP29yaWdpbj1odHRwczovL2NhbGVuZGFyLmdvb2dsZS5jb20mZnVsbFdpZHRoPTFcIixcbiAgICAgICAgZGlzcGxheU5hbWU6IFwiR29vZ2xlIFRhc2tzXCIsXG4gICAgICAgIGljb246IFwibGlzdC1jaGVja3NcIixcbiAgICAgICAgaGlkZU9uTW9iaWxlOiB0cnVlLFxuICAgICAgICBhZGRSaWJib25JY29uOiBmYWxzZSxcbiAgICAgICAgb3BlbkluQ2VudGVyOiBmYWxzZSxcbiAgICAgICAgem9vbUxldmVsOiAxLFxuICAgICAgICBmb3JjZUlmcmFtZTogZmFsc2UsXG4gICAgICAgIGN1c3RvbUNzczogXCJcIlxuICAgIH1cbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3VzdG9tRnJhbWVzU2V0dGluZ3Mge1xuICAgIGZyYW1lczogQ3VzdG9tRnJhbWVTZXR0aW5nc1tdO1xuICAgIHBhZGRpbmc6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDdXN0b21GcmFtZVNldHRpbmdzIHtcbiAgICB1cmw6IHN0cmluZztcbiAgICBkaXNwbGF5TmFtZTogc3RyaW5nO1xuICAgIGljb246IHN0cmluZztcbiAgICBoaWRlT25Nb2JpbGU6IGJvb2xlYW47XG4gICAgYWRkUmliYm9uSWNvbjogYm9vbGVhbjtcbiAgICBvcGVuSW5DZW50ZXI6IGJvb2xlYW47XG4gICAgem9vbUxldmVsOiBudW1iZXI7XG4gICAgZm9yY2VJZnJhbWU6IGJvb2xlYW47XG4gICAgY3VzdG9tQ3NzOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJY29uKHNldHRpbmdzOiBDdXN0b21GcmFtZVNldHRpbmdzKSB7XG4gICAgcmV0dXJuIHNldHRpbmdzLmljb24gPyBgbHVjaWRlLSR7c2V0dGluZ3MuaWNvbn1gIDogXCJkb2N1bWVudHNcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldElkKHNldHRpbmdzOiBDdXN0b21GcmFtZVNldHRpbmdzKSB7XG4gICAgcmV0dXJuIHNldHRpbmdzLmRpc3BsYXlOYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzL2csIFwiLVwiKTtcbn1cbiIsICJpbXBvcnQgeyBBcHAsIEJ1dHRvbkNvbXBvbmVudCwgRHJvcGRvd25Db21wb25lbnQsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IGRlZmF1bHRTZXR0aW5ncywgcHJlc2V0cyB9IGZyb20gXCIuL3NldHRpbmdzXCI7XG5pbXBvcnQgQ3VzdG9tRnJhbWVzUGx1Z2luIGZyb20gXCIuL21haW5cIjtcblxuZXhwb3J0IGNsYXNzIEN1c3RvbUZyYW1lc1NldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblxuICAgIHBsdWdpbjogQ3VzdG9tRnJhbWVzUGx1Z2luO1xuXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogQ3VzdG9tRnJhbWVzUGx1Z2luKSB7XG4gICAgICAgIHN1cGVyKGFwcCwgcGx1Z2luKTtcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgfVxuXG4gICAgZGlzcGxheSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5lbXB0eSgpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDJcIiwgeyB0ZXh0OiBcIkN1c3RvbSBGcmFtZXMgU2V0dGluZ3NcIiB9KTtcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcInBcIiwge1xuICAgICAgICAgICAgdGV4dDogXCJQbGVhc2Ugbm90ZSB0aGF0IE9ic2lkaWFuIGhhcyB0byBiZSByZXN0YXJ0ZWQgb3IgcmVsb2FkZWQgZm9yIG1vc3Qgb2YgdGhlc2Ugc2V0dGluZ3MgdG8gdGFrZSBlZmZlY3QuXCIsXG4gICAgICAgICAgICBjbHM6IFwibW9kLXdhcm5pbmdcIlxuICAgICAgICB9KTtcblxuICAgICAgICBuZXcgU2V0dGluZyh0aGlzLmNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoXCJGcmFtZSBQYWRkaW5nXCIpXG4gICAgICAgICAgICAuc2V0RGVzYyhcIlRoZSBwYWRkaW5nIHRoYXQgc2hvdWxkIGJlIGxlZnQgYXJvdW5kIHRoZSBpbnNpZGUgb2YgY3VzdG9tIGZyYW1lIHBhbmVzLCBpbiBwaXhlbHMuXCIpXG4gICAgICAgICAgICAuYWRkVGV4dCh0ID0+IHtcbiAgICAgICAgICAgICAgICB0LmlucHV0RWwudHlwZSA9IFwibnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgdC5zZXRWYWx1ZShTdHJpbmcodGhpcy5wbHVnaW4uc2V0dGluZ3MucGFkZGluZykpO1xuICAgICAgICAgICAgICAgIHQub25DaGFuZ2UoYXN5bmMgdiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnBhZGRpbmcgPSB2Lmxlbmd0aCA/IE51bWJlcih2KSA6IGRlZmF1bHRTZXR0aW5ncy5wYWRkaW5nO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAobGV0IGZyYW1lIG9mIHRoaXMucGx1Z2luLnNldHRpbmdzLmZyYW1lcykge1xuICAgICAgICAgICAgbGV0IGhlYWRpbmcgPSB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDNcIiwgeyB0ZXh0OiBmcmFtZS5kaXNwbGF5TmFtZSB8fCBcIlVubmFtZWQgRnJhbWVcIiB9KTtcbiAgICAgICAgICAgIGxldCB0b2dnbGUgPSBuZXcgQnV0dG9uQ29tcG9uZW50KHRoaXMuY29udGFpbmVyRWwpXG4gICAgICAgICAgICAgICAgLnNldEJ1dHRvblRleHQoXCJTaG93IFNldHRpbmdzXCIpXG4gICAgICAgICAgICAgICAgLnNldENsYXNzKFwiY3VzdG9tLWZyYW1lcy1zaG93XCIpXG4gICAgICAgICAgICAgICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50LmhpZGRlbiA9ICFjb250ZW50LmhpZGRlbjtcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlLnNldEJ1dHRvblRleHQoY29udGVudC5oaWRkZW4gPyBcIlNob3cgU2V0dGluZ3NcIiA6IFwiSGlkZSBTZXR0aW5nc1wiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxldCBjb250ZW50ID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoKTtcbiAgICAgICAgICAgIGNvbnRlbnQuaGlkZGVuID0gdHJ1ZTtcblxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGVudClcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIkRpc3BsYXkgTmFtZVwiKVxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFwiVGhlIGRpc3BsYXkgbmFtZSB0aGF0IHRoaXMgZnJhbWUgc2hvdWxkIGhhdmUuXCIpXG4gICAgICAgICAgICAgICAgLmFkZFRleHQodCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHQuc2V0VmFsdWUoZnJhbWUuZGlzcGxheU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB0Lm9uQ2hhbmdlKGFzeW5jIHYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJhbWUuZGlzcGxheU5hbWUgPSB2O1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGluZy5zZXRUZXh0KGZyYW1lLmRpc3BsYXlOYW1lIHx8IFwiVW5uYW1lZCBGcmFtZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRlbnQpXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJJY29uXCIpXG4gICAgICAgICAgICAgICAgLnNldERlc2MoY3JlYXRlRnJhZ21lbnQoZiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGYuY3JlYXRlU3Bhbih7IHRleHQ6IFwiVGhlIGljb24gdGhhdCB0aGlzIGZyYW1lJ3MgcGFuZSBzaG91bGQgaGF2ZS4gVGhlIG5hbWVzIG9mIGFueSBcIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgZi5jcmVhdGVFbChcImFcIiwgeyB0ZXh0OiBcIkx1Y2lkZSBpY29uc1wiLCBocmVmOiBcImh0dHBzOi8vbHVjaWRlLmRldi9cIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgZi5jcmVhdGVTcGFuKHsgdGV4dDogXCIgY2FuIGJlIHVzZWQuXCIgfSk7XG4gICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgLmFkZFRleHQodCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHQuc2V0VmFsdWUoZnJhbWUuaWNvbik7XG4gICAgICAgICAgICAgICAgICAgIHQub25DaGFuZ2UoYXN5bmMgdiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFtZS5pY29uID0gdjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRlbnQpXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJVUkxcIilcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcIlRoZSBVUkwgdGhhdCBzaG91bGQgYmUgb3BlbmVkIGluIHRoaXMgZnJhbWUuXCIpXG4gICAgICAgICAgICAgICAgLmFkZFRleHQodCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHQuc2V0VmFsdWUoZnJhbWUudXJsKTtcbiAgICAgICAgICAgICAgICAgICAgdC5vbkNoYW5nZShhc3luYyB2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyYW1lLnVybCA9IHY7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250ZW50KVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiRGlzYWJsZSBvbiBNb2JpbGVcIilcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcIkN1c3RvbSBGcmFtZXMgaXMgYSBsb3QgbW9yZSByZXN0cmljdGVkIG9uIG1vYmlsZSBkZXZpY2VzIGFuZCBkb2Vzbid0IGFsbG93IGZvciB0aGUgc2FtZSB0eXBlcyBvZiBjb250ZW50IHRvIGJlIGRpc3BsYXllZC4gSWYgYSBmcmFtZSBkb2Vzbid0IHdvcmsgYXMgZXhwZWN0ZWQgb24gbW9iaWxlLCBpdCBjYW4gYmUgZGlzYWJsZWQuXCIpXG4gICAgICAgICAgICAgICAgLmFkZFRvZ2dsZSh0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdC5zZXRWYWx1ZShmcmFtZS5oaWRlT25Nb2JpbGUpO1xuICAgICAgICAgICAgICAgICAgICB0Lm9uQ2hhbmdlKGFzeW5jIHYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJhbWUuaGlkZU9uTW9iaWxlID0gdjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRlbnQpXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJBZGQgUmliYm9uIEljb25cIilcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcIldoZXRoZXIgYSBidXR0b24gdG8gb3BlbiB0aGlzIGZyYW1lIHNob3VsZCBiZSBhZGRlZCB0byB0aGUgcmliYm9uLlwiKVxuICAgICAgICAgICAgICAgIC5hZGRUb2dnbGUodCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHQuc2V0VmFsdWUoZnJhbWUuYWRkUmliYm9uSWNvbik7XG4gICAgICAgICAgICAgICAgICAgIHQub25DaGFuZ2UoYXN5bmMgdiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFtZS5hZGRSaWJib25JY29uID0gdjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRlbnQpXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJPcGVuIGluIENlbnRlclwiKVxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFwiV2hldGhlciB0aGlzIGZyYW1lIHNob3VsZCBiZSBvcGVuZWQgaW4gdGhlIHVucGlubmVkIGNlbnRlciBlZGl0b3IgcmF0aGVyIHRoYW4gb25lIG9mIHRoZSBwYW5lcyBvbiB0aGUgc2lkZS4gVGhpcyBpcyB1c2VmdWwgZm9yIHNpdGVzIHRoYXQgZG9uJ3Qgd29yayB3ZWxsIGluIGEgbmFycm93IHZpZXcsIG9yIHNpdGVzIHRoYXQgZG9uJ3QgcmVxdWlyZSBhIG5vdGUgdG8gYmUgb3BlbiB3aGVuIHZpZXdlZC5cIilcbiAgICAgICAgICAgICAgICAuYWRkVG9nZ2xlKHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0LnNldFZhbHVlKGZyYW1lLm9wZW5JbkNlbnRlcik7XG4gICAgICAgICAgICAgICAgICAgIHQub25DaGFuZ2UoYXN5bmMgdiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFtZS5vcGVuSW5DZW50ZXIgPSB2O1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGVudClcbiAgICAgICAgICAgICAgICAuc2V0TmFtZShcIkZvcmNlIGlmcmFtZVwiKVxuICAgICAgICAgICAgICAgIC5zZXREZXNjKGNyZWF0ZUZyYWdtZW50KGYgPT4ge1xuICAgICAgICAgICAgICAgICAgICBmLmNyZWF0ZVNwYW4oeyB0ZXh0OiBcIldoZXRoZXIgdGhpcyBmcmFtZSBzaG91bGQgdXNlIGlmcmFtZXMgb24gZGVza3RvcCBhcyBvcHBvc2VkIHRvIEVsZWN0cm9uIHdlYnZpZXdzLlwiIH0pO1xuICAgICAgICAgICAgICAgICAgICBmLmNyZWF0ZUVsKFwiYnJcIik7XG4gICAgICAgICAgICAgICAgICAgIGYuY3JlYXRlRWwoXCJlbVwiLCB7IHRleHQ6IFwiT25seSBlbmFibGUgdGhpcyBzZXR0aW5nIGlmIHRoZSBmcmFtZSBpcyBjYXVzaW5nIGlzc3VlcyBvciBmcmVxdWVudCBjcmFzaGVzLiBUaGlzIHNldHRpbmcgY2F1c2VzIGFsbCBEZXNrdG9wLW9ubHkgc2V0dGluZ3MgdG8gYmUgaWdub3JlZC5cIiB9KTtcbiAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAuYWRkVG9nZ2xlKHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0LnNldFZhbHVlKGZyYW1lLmZvcmNlSWZyYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdC5vbkNoYW5nZShhc3luYyB2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyYW1lLmZvcmNlSWZyYW1lID0gdjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRlbnQpXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJQYWdlIFpvb21cIilcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhcIlRoZSB6b29tIHRoYXQgdGhpcyBmcmFtZSdzIHBhZ2Ugc2hvdWxkIGJlIGRpc3BsYXllZCB3aXRoLCBhcyBhIHBlcmNlbnRhZ2UuXCIpXG4gICAgICAgICAgICAgICAgLmFkZFRleHQodCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHQuaW5wdXRFbC50eXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgdC5zZXRWYWx1ZShTdHJpbmcoZnJhbWUuem9vbUxldmVsICogMTAwKSk7XG4gICAgICAgICAgICAgICAgICAgIHQub25DaGFuZ2UoYXN5bmMgdiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFtZS56b29tTGV2ZWwgPSB2Lmxlbmd0aCA/IE51bWJlcih2KSAvIDEwMCA6IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBuZXcgU2V0dGluZyhjb250ZW50KVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiQWRkaXRpb25hbCBDU1NcIilcbiAgICAgICAgICAgICAgICAuc2V0RGVzYyhjcmVhdGVGcmFnbWVudChmID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZi5jcmVhdGVTcGFuKHsgdGV4dDogXCJBIHNuaXBwZXQgb2YgYWRkaXRpb25hbCBDU1MgdGhhdCBzaG91bGQgYmUgYXBwbGllZCB0byB0aGlzIGZyYW1lLlwiIH0pO1xuICAgICAgICAgICAgICAgICAgICBmLmNyZWF0ZUVsKFwiYnJcIik7XG4gICAgICAgICAgICAgICAgICAgIGYuY3JlYXRlRWwoXCJlbVwiLCB7IHRleHQ6IFwiTm90ZSB0aGF0IHRoaXMgaXMgb25seSBhcHBsaWVkIG9uIERlc2t0b3AuXCIgfSk7XG4gICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgLmFkZFRleHRBcmVhKHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0LmlucHV0RWwucm93cyA9IDU7XG4gICAgICAgICAgICAgICAgICAgIHQuaW5wdXRFbC5jb2xzID0gNTA7XG4gICAgICAgICAgICAgICAgICAgIHQuc2V0VmFsdWUoZnJhbWUuY3VzdG9tQ3NzKTtcbiAgICAgICAgICAgICAgICAgICAgdC5vbkNoYW5nZShhc3luYyB2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyYW1lLmN1c3RvbUNzcyA9IHY7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBuZXcgQnV0dG9uQ29tcG9uZW50KGNvbnRlbnQpXG4gICAgICAgICAgICAgICAgLnNldEJ1dHRvblRleHQoXCJSZW1vdmUgRnJhbWVcIilcbiAgICAgICAgICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmZyYW1lcy5yZW1vdmUoZnJhbWUpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaHJcIik7XG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHsgdGV4dDogXCJDcmVhdGUgYSBuZXcgZnJhbWUsIGVpdGhlciBmcm9tIGEgcHJlc2V0IHNoaXBwZWQgd2l0aCB0aGUgcGx1Z2luLCBvciBhIGN1c3RvbSBvbmUgdGhhdCB5b3UgY2FuIGVkaXQgeW91cnNlbGYuIEVhY2ggZnJhbWUncyBwYW5lIGNhbiBiZSBvcGVuZWQgdXNpbmcgdGhlIFxcXCJDdXN0b20gRnJhbWVzOiBPcGVuXFxcIiBjb21tYW5kLlwiIH0pO1xuXG4gICAgICAgIGxldCBhZGREaXYgPSB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZURpdigpO1xuICAgICAgICBsZXQgZHJvcGRvd24gPSBuZXcgRHJvcGRvd25Db21wb25lbnQoYWRkRGl2KTtcbiAgICAgICAgZHJvcGRvd24uYWRkT3B0aW9uKFwibmV3XCIsIFwiQ3VzdG9tXCIpO1xuICAgICAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMocHJlc2V0cykpXG4gICAgICAgICAgICBkcm9wZG93bi5hZGRPcHRpb24oa2V5LCBwcmVzZXRzW2tleV0uZGlzcGxheU5hbWUpO1xuICAgICAgICBuZXcgQnV0dG9uQ29tcG9uZW50KGFkZERpdilcbiAgICAgICAgICAgIC5zZXRCdXR0b25UZXh0KFwiQWRkIEZyYW1lXCIpXG4gICAgICAgICAgICAuc2V0Q2xhc3MoXCJjdXN0b20tZnJhbWVzLWFkZFwiKVxuICAgICAgICAgICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBvcHRpb24gPSBkcm9wZG93bi5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb24gPT0gXCJuZXdcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5mcmFtZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogXCJOZXcgRnJhbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlT25Nb2JpbGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRSaWJib25JY29uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5JbkNlbnRlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB6b29tTGV2ZWw6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JjZUlmcmFtZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21Dc3M6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZnJhbWVzLnB1c2gocHJlc2V0c1tvcHRpb25dKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBsZXQgZGlzY2xhaW1lciA9IHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHsgY2xzOiBcIm1vZC13YXJuaW5nXCIgfSk7XG4gICAgICAgIGRpc2NsYWltZXIuY3JlYXRlU3Bhbih7IHRleHQ6IFwiUGxlYXNlIGJlIGFkdmlzZWQgdGhhdCwgd2hlbiBhZGRpbmcgYSBzaXRlIGFzIGEgY3VzdG9tIGZyYW1lLCB5b3UgcG90ZW50aWFsbHkgZXhwb3NlIHBlcnNvbmFsIGluZm9ybWF0aW9uIHlvdSBlbnRlciB0byBvdGhlciBwbHVnaW5zIHlvdSBoYXZlIGluc3RhbGxlZC4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSBcIiB9KTtcbiAgICAgICAgZGlzY2xhaW1lci5jcmVhdGVFbChcImFcIiwge1xuICAgICAgICAgICAgdGV4dDogXCJ0aGlzIGRpc2N1c3Npb25cIixcbiAgICAgICAgICAgIGhyZWY6IFwiaHR0cHM6Ly9naXRodWIuY29tL0VsbHBlY2svT2JzaWRpYW5DdXN0b21GcmFtZXMvaXNzdWVzLzU0I2lzc3VlY29tbWVudC0xMjEwODc5Njg1XCIsXG4gICAgICAgICAgICBjbHM6IFwibW9kLXdhcm5pbmdcIlxuICAgICAgICB9KTtcbiAgICAgICAgZGlzY2xhaW1lci5jcmVhdGVTcGFuKHsgdGV4dDogXCIuXCIgfSk7XG5cbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbChcImhyXCIpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZUVsKFwicFwiLCB7IHRleHQ6IFwiSWYgeW91IGxpa2UgdGhpcyBwbHVnaW4gYW5kIHdhbnQgdG8gc3VwcG9ydCBpdHMgZGV2ZWxvcG1lbnQsIHlvdSBjYW4gZG8gc28gdGhyb3VnaCBteSB3ZWJzaXRlIGJ5IGNsaWNraW5nIHRoaXMgZmFuY3kgaW1hZ2UhXCIgfSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRWwoXCJhXCIsIHsgaHJlZjogXCJodHRwczovL2VsbHBlY2suZGUvc3VwcG9ydFwiIH0pLmNyZWF0ZUVsKFwiaW1nXCIsIHtcbiAgICAgICAgICAgIGF0dHI6IHsgc3JjOiBcImh0dHBzOi8vZWxscGVjay5kZS9yZXMvZ2VuZXJhbHN1cHBvcnQucG5nXCIgfSxcbiAgICAgICAgICAgIGNsczogXCJjdXN0b20tZnJhbWVzLXN1cHBvcnRcIlxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgSXRlbVZpZXcsIFdvcmtzcGFjZUxlYWYsIE1lbnUgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IEN1c3RvbUZyYW1lIH0gZnJvbSBcIi4vZnJhbWVcIjtcbmltcG9ydCB7IEN1c3RvbUZyYW1lU2V0dGluZ3MsIEN1c3RvbUZyYW1lc1NldHRpbmdzLCBnZXRJY29uIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcblxuZXhwb3J0IGNsYXNzIEN1c3RvbUZyYW1lVmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcblxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IGFjdGlvbnM6IEFjdGlvbltdID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcIlJldHVybiB0byBvcmlnaW5hbCBwYWdlXCIsXG4gICAgICAgICAgICBpY29uOiBcImhvbWVcIixcbiAgICAgICAgICAgIGFjdGlvbjogdiA9PiB2LmZyYW1lLnJldHVybigpXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG5hbWU6IFwiT3BlbiBkZXYgdG9vbHNcIixcbiAgICAgICAgICAgIGljb246IFwiYmluYXJ5XCIsXG4gICAgICAgICAgICBhY3Rpb246IHYgPT4gdi5mcmFtZS50b2dnbGVEZXZUb29scygpXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ29weSBsaW5rXCIsXG4gICAgICAgICAgICBpY29uOiBcImxpbmtcIixcbiAgICAgICAgICAgIGFjdGlvbjogdiA9PiBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh2LmZyYW1lLmdldEN1cnJlbnRVcmwoKSlcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgbmFtZTogXCJPcGVuIGluIGJyb3dzZXJcIixcbiAgICAgICAgICAgIGljb246IFwiZ2xvYmVcIixcbiAgICAgICAgICAgIGFjdGlvbjogdiA9PiBvcGVuKHYuZnJhbWUuZ2V0Q3VycmVudFVybCgpKVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBuYW1lOiBcIlJlZnJlc2hcIixcbiAgICAgICAgICAgIGljb246IFwicmVmcmVzaC1jd1wiLFxuICAgICAgICAgICAgYWN0aW9uOiB2ID0+IHYuZnJhbWUucmVmcmVzaCgpXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG5hbWU6IFwiR28gYmFja1wiLFxuICAgICAgICAgICAgaWNvbjogXCJhcnJvdy1sZWZ0XCIsXG4gICAgICAgICAgICBhY3Rpb246IHYgPT4gdi5mcmFtZS5nb0JhY2soKVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBuYW1lOiBcIkdvIGZvcndhcmRcIixcbiAgICAgICAgICAgIGljb246IFwiYXJyb3ctcmlnaHRcIixcbiAgICAgICAgICAgIGFjdGlvbjogdiA9PiB2LmZyYW1lLmdvRm9yd2FyZCgpXG4gICAgICAgIH1cbiAgICBdO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBkYXRhOiBDdXN0b21GcmFtZVNldHRpbmdzO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuICAgIHByaXZhdGUgZnJhbWU6IEN1c3RvbUZyYW1lO1xuXG4gICAgY29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgc2V0dGluZ3M6IEN1c3RvbUZyYW1lc1NldHRpbmdzLCBkYXRhOiBDdXN0b21GcmFtZVNldHRpbmdzLCBuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgc3VwZXIobGVhZik7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuZnJhbWUgPSBuZXcgQ3VzdG9tRnJhbWUoc2V0dGluZ3MsIGRhdGEpO1xuICAgICAgICB0aGlzLm5hdmlnYXRpb24gPSBkYXRhLm9wZW5JbkNlbnRlcjtcblxuICAgICAgICBmb3IgKGxldCBhY3Rpb24gb2YgQ3VzdG9tRnJhbWVWaWV3LmFjdGlvbnMpXG4gICAgICAgICAgICB0aGlzLmFkZEFjdGlvbihhY3Rpb24uaWNvbiwgYWN0aW9uLm5hbWUsICgpID0+IGFjdGlvbi5hY3Rpb24odGhpcykpO1xuICAgIH1cblxuICAgIG9ubG9hZCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jb250ZW50RWwuZW1wdHkoKTtcbiAgICAgICAgdGhpcy5jb250ZW50RWwuYWRkQ2xhc3MoXCJjdXN0b20tZnJhbWVzLXZpZXdcIik7XG4gICAgICAgIHRoaXMuZnJhbWUuY3JlYXRlKHRoaXMuY29udGVudEVsKTtcbiAgICB9XG5cbiAgICBvblBhbmVNZW51KG1lbnU6IE1lbnUsIHNvdXJjZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHN1cGVyLm9uUGFuZU1lbnUobWVudSwgc291cmNlKTtcbiAgICAgICAgZm9yIChsZXQgYWN0aW9uIG9mIEN1c3RvbUZyYW1lVmlldy5hY3Rpb25zKSB7XG4gICAgICAgICAgICBtZW51LmFkZEl0ZW0oaSA9PiB7XG4gICAgICAgICAgICAgICAgaS5zZXRUaXRsZShhY3Rpb24ubmFtZSk7XG4gICAgICAgICAgICAgICAgaS5zZXRJY29uKGFjdGlvbi5pY29uKTtcbiAgICAgICAgICAgICAgICBpLm9uQ2xpY2soKCkgPT4gYWN0aW9uLmFjdGlvbih0aGlzKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFZpZXdUeXBlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfVxuXG4gICAgZ2V0RGlzcGxheVRleHQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5kaXNwbGF5TmFtZTtcbiAgICB9XG5cbiAgICBnZXRJY29uKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBnZXRJY29uKHRoaXMuZGF0YSk7XG4gICAgfVxuXG4gICAgZm9jdXMoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZnJhbWUuZm9jdXMoKTtcbiAgICB9XG59XG5cbmludGVyZmFjZSBBY3Rpb24ge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBpY29uOiBzdHJpbmc7XG4gICAgYWN0aW9uOiAodmlldzogQ3VzdG9tRnJhbWVWaWV3KSA9PiBhbnk7XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUEsdUJBQWdEOzs7QUNBaEQsc0JBQXlCOzs7QUNBbEIsSUFBTSxrQkFBd0M7QUFBQSxFQUNqRCxRQUFRO0FBQUEsRUFDUixTQUFTO0FBQUE7QUFFTixJQUFNLFVBQStDO0FBQUEsRUFDeEQsWUFBWTtBQUFBLElBQ1IsS0FBSztBQUFBLElBQ0wsYUFBYTtBQUFBLElBQ2IsTUFBTTtBQUFBLElBQ04sY0FBYztBQUFBLElBQ2QsZUFBZTtBQUFBLElBQ2YsY0FBYztBQUFBLElBQ2QsV0FBVztBQUFBLElBQ1gsYUFBYTtBQUFBLElBQ2IsV0FBVztBQUFBO0FBQUEsRUFFZixZQUFZO0FBQUEsSUFDUixLQUFLO0FBQUEsSUFDTCxhQUFhO0FBQUEsSUFDYixNQUFNO0FBQUEsSUFDTixjQUFjO0FBQUEsSUFDZCxlQUFlO0FBQUEsSUFDZixjQUFjO0FBQUEsSUFDZCxXQUFXO0FBQUEsSUFDWCxhQUFhO0FBQUEsSUFDYixXQUFXO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTWYsWUFBWTtBQUFBLElB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
